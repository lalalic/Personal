<#macro show>
<script>
    function remove(id){
        var self=this
        $.get("/perf/remove/"+id,function(){
            $(self).parents('tr').hide('slow').remove();
        })
    }
</script>
<table style="width:100%">
    <#list it as p>
        <tr>
            <td><button onclick="remove.call(this,'${p.ID}')">X</button></td>
            <td>${p.when?datetime}</td>
            <td>${p.request}</td>
            <td>
                <table style="width:100%">
                    <#list p.items as item>
                        <tr>
                            <td><@repeat item.level/> ${item.name}</td>
                            <td>${p.itemDuration(item)}ms</td>
                        </tr>
                    </#list>
                </table>
            </td></tr>
    </#list>
</table>
</#macro>

<#macro repeat count c=".">
    <#if (count>10)>
        ${""?right_pad(5,c)}${count?string?right_pad(3,c)}${""?right_pad(5,c)}
    <#else>
        ${""?right_pad(count,c)}
    </#if>
</#macro>