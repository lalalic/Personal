<#--
1st round testing:
    show list end with ","
    
-->
<#macro init>
    <#import "/com/yy/app/cms/web/slavable.html" as slavable>
    <#include "/com/yy/app/cms/web/slavable.html">
    <@slavable.init/>
    <#assign this=this+{'model':'游戏','slave':{'model':'游戏体验'}}>
</#macro>

<#macro postFields post>
	<table class="fields">
	    <tr><td>游戏名称<@required/></td><td>
	        <input name="title" value="${post.title!}" required>
	    </td></tr>
	    <tr><td>类别</td><td>
	        <@checkboxUI name="types" values=post.types! options=['亲子','音乐','艺术','英语','数学','天文','户外','团队合作','绘本','沙滩','亲水','情景模仿','其他']/></td></tr>
	    <tr><td>来源</td><td>
	        <input type="radio" name="fromType" value="0" <#if (post.fromType!)==0>checked</#if> >原创
	        <input type="radio" name="fromType" value="1" <#if (post.fromType!)==1>checked</#if> >网站
	           <input name="from1" <#if (post.fromType!)==1>value="${post.from!}"</#if> onchange="if(this.value.length>0) $(this).prev('input').click()">
	        <input type="radio" name="fromType" value="2" <#if (post.fromType!)==2>checked</#if> >早教课程
	           <input name="from2" <#if (post.fromType!)==1>value="${post.from!}"</#if> onchange="if(this.value.length>0) $(this).prev('input').click()">
	        <input type="radio" name="fromType" value="3" <#if (post.fromType!)==3>checked</#if> >其他
	           <input name="from3" <#if (post.fromType!)==1>value="${post.from!}"</#if> onchange="if(this.value.length>0) $(this).prev('input').click()">
	        </td></tr>
	    <tr><td>目的</td><td>
	        <@checkboxUI name="goal" values=post.goal! options=['娱乐','能力培养','打发时间','其他']/></td></tr>
	    <tr><td>游戏内容<@required/></td><td>
	        <@editor name="content" content=post.content!>title="内容" minlength="300"</@editor></td></tr>    
	</table>
</#macro>

<#macro show1Fields post>
	<div>
		<table class="fields">
			<#if post.types!?has_content><tr><td>类别</td><td><#list post.types as type>${type},</#list></td></tr></#if>
			<tr><td>来源</td><td>
			    <#compress>
			    <#switch post.fromType>
				    <#case 0>原创<#break>
				    <#case 1>网站<#break>
				    <#case 2>早教课程<#break>
				    <#case 3>其他<#break>
			    </#switch>
			    <#if post.form!?has_content>: ${post.from!}</#if>
			    </#compress>
			 </td></tr>
			<#if post.goal!?has_content><tr><td>目的</td><td><#list post.goal as goal>${goal}, </#list></td></tr></#if>
	   	</table>
	   	<p class="postcontent">${post.content}</p>
	   	<@authorInfo post/>
   	</div>
   	<@slavePost post/>
</#macro>

<#macro slavePostFields parent>
	<input type="hidden" name="parent" value="${parent.ID}">    
	<table class="fields">
	    <tr><td>标题<@required/></td><td><input style="width:80%" name="title" required></td></tr>
	    <tr><td>适龄性</td><td>
	    	<@checkboxUI options=['孕期','0-12个月','12-24个月','24-36个月','3岁','4岁','5岁','6岁','7岁'] name="suitableAge"/></td></tr>
	    <tr><td>道具</td><td>
	        <textarea name="tools" style="height:3em" placeholder="推荐配合玩具/乐器/颜料/其它工具  "></textarea></td></tr>
	    <tr><td>心得体会<@required/></td><td>
	    	<@editor name="content">title="心得体会" minlength="300"</@editor></td></tr>
	</table>
</#macro>

<#macro show1SlaveFields slave>
	<div>
		<table class="fields">
		    <#if slave.suitableAge!?has_content><tr><td>推荐年龄</td><td><#list slave.suitableAge as age>${age},</#list></td></tr></#if>
		    <#if slave.tools!?has_content><tr><td>推荐道具</td><td>${slave.tools}</td></tr></#if>
	    </table>
	    <p><b>${slave.title}--</b> <span class="postcontent">${slave.content}</span></p>
	    <@authorInfo slave/>
    </div>
</#macro>