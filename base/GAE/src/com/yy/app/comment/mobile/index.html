<#macro show>
	<#assign footerNavMacro={'name':'commentForm','arg':entityID}>
	<ol id="cs" class="list">
		<#if comments?size==0>
			<li class="text align_center" id="noComment">No Comment Yet</li>
		<#else>
			<#list comments as c>
			<li>${c.message}
				<small>
				<a class="right">${c.created?datetime}</a>
				<a class="right">${c.ownerName}</a></li>
				</small>
			</#list>
		</#if>
	</ol>
</#macro>

<#macro commentForm id>
	<#if !user.isLoggedIn()>
		<a data-icon="user" href="/user/signin.html?target=/comment/list/${id}.html">Signin to Comment</a>
	<#else>
		<a>
			<input type="text" placeholder="comment..." id="$c" class="column nine left">
			<span data-icon="upload" class="column one" 
				onclick="x('post','/comment/add',function(){$1('#noComment')&&cs.removeChild(noComment);cs.appendChild(h('<li>'+$c.value+'</li>'));$c.value=''},'ID=${id}&comment='+e($c.value))"/>
		</a>
	</#if>
</#macro>

