<#macro signin action="/user/signin.html">
	<#assign footerNavMacro='signinAction'>
	<form class="form" id="signin"
		action="${action}" 
		method="post">
	    <input type="hidden" name="targetURL" value="${targetURL!}"/>
	    <#if error??><center data-icon="error">${error!}</center></#if>
	    <fieldset>
	    	<input placeholder="user name" type="text" name="account" value="${accountName!}" required="required">
	    </fieldset>
	    
	    <fieldset>
	    	<input placeholder="password" type="password" name="password" required="required"/>
	    </fieldset>
	</form>
</#macro>

<#macro signinAction>
	<a href="/user/forgetpassword.html"  class="button">Forget Password?</a>
   	<a href="/user/signup.html?targetURL=${targetURL!}"  class="button">New Account</a>
   	<a href="#" onclick="signin.submit()" class="button">Signin</a>
</#macro>

<#macro signup action="/user/signup.html">
	<#assign footerNavMacro='signupAction'>
	<form class="form" id="signup"
		action="${action}" method="post">
		<input type="hidden" name="targetURL" value="${targetURL!'/'}">
		<#if error??><center data-icon="error">${error!}</center></#if>
	    <fieldset>
	    	<legend>帐号信息</legend>
	    	<center class="column four"><img style="width:150px;height:150px;" onclick="thumbnailFile.click()" id="thumb" src="${thumbnail!}"/></center>
	    	<input type="file" name="file" id="thumbnailFile"
	    		style="position:fixed;top:-99999px" accept="image/*"
	    		onchange="!/media/.test(this.form.action)&&x('post','/media/want2upload'+this.form.action,function(x,a){with(a=$1('.active form')){action=x.responseText;enctype='multipart/form-data'}})">
	   		<div class="column six">
		   		<input placeholder="user name" type="text" name="account" value="${accountName!}" required="required">
		   		<input placeholder="email" type="email" name="email" value="${(input.email)!}" required="required">
		    	<input placeholder="password" type="password" name="password" required="required">
		    	<input placeholder="password again" type="password" name="passwordAgain" required="required">
	    	</div>
	    </fieldset>
	    <#nested>
	</form>
</#macro>

<#macro signupAction>
   	<a href="/user/forgetpassword.html"  class="button">Forget Password?</a>
   	<a href="/user/signin.html?targetURL=${targetURL!}"  class="button">Has Account?</a>
   	<a href="#" onclick="signup.submit()" class="button">Signup</a>
</#macro>