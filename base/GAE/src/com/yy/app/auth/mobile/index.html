<#macro signin action="/user/signin.html">
	<#assign footerNavMacro='signinAction'>
	<form class="form" id="signin"
		action="${action}" 
		method="post">
	    <input type="hidden" name="targetURL" value="${((targetURL)!input.targetURL)!'/'}"/>
	    <input type="submit" class="unvisible">
	    <#if error??><center data-icon="error">${error!}</center></#if>
	    <fieldset>
	    	<input placeholder="帐号" type="text" name="account" value="${(input.account)!}" required="required"  autofocus="autofocus">
	    </fieldset>
	    
	    <fieldset>
	    	<input placeholder="密码" type="password" name="password" required="required"/>
	    </fieldset>
	</form>
</#macro>

<#macro signinAction>
	<a href="/user/forgetpassword.html"  class="button">重设密码</a>
   	<a href="/user/signup.html?targetURL=${((targetURL)!input.targetURL)!'/'}"  class="button">注册</a>
   	<a href="#" onclick="$1('.active input[type=submit]').click()" class="button active">登录</a>
</#macro>

<#macro signup action="/user/signup.html">
	<#assign footerNavMacro='signupAction'>
	<form class="form" id="signup"
		action="${action}" method="post">
		<input type="hidden" name="targetURL" value="${((targetURL)!input.targetURL)!'/'}">
		<input type="submit" class="unvisible">
		<#if error??><center data-icon="error">${error!}</center></#if>
	    <fieldset>
	    	<#--
	    	<legend>帐号信息</legend>
	    	<center class="column four"><img style="width:150px;height:150px;" onclick="thumbnailFile.click()" id="thumb" src="${thumbnail!}"/></center>
	    	<input type="file" name="file" id="thumbnailFile"
	    		style="position:fixed;top:-99999px" accept="image/*"
	    		onchange="!/media/.test(this.form.action)&&x('post','/media/want2upload'+this.form.action,function(x,a){with(a=$1('.active form')){action=x.responseText;enctype='multipart/form-data'}})">
	   		<div class="column six">
		   		<input placeholder="email" type="email" name="email" value="${(input.email)!}" required="required">
		   	-->
		   		<input placeholder="帐号" type="text" name="account" value="${(input.account)!}" required="required" autofocus="autofocus">	
		    	<input placeholder="密码" type="password" name="password" 
		    		required="required" onchange="this.form.passwordAgain.pattern='^'+this.value+'$'" 
		    		pattern="[A-Za-z0-9\!\@\#\$\%\^\&\*\-]{6}" title="至少6个字符">
		    	<input placeholder="密码确认" type="password" name="passwordAgain" required="required" title="确保与密码一样">
	    </fieldset>
	    <#nested>
	</form>
</#macro>

<#macro signupAction>
   	<a href="/user/forgetpassword.html?targetURL=${((targetURL)!input.targetURL)!'/'}"  class="button">重设密码</a>
   	<a href="/user/signin.html?targetURL=${((targetURL)!input.targetURL)!'/'}"  class="button">登录</a>
   	<a href="#" onclick="$1('.active input[type=submit]').click()" class="button active">注册</a>
</#macro>